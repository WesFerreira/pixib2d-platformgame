!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).core=e()}}(function(){return function r(s,a,l){function d(t,e){if(!a[t]){if(!s[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(c)return c(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var n=a[t]={exports:{}};s[t][0].call(n.exports,function(e){return d(s[t][1][e]||e)},n,n.exports,r,s,a,l)}return a[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)d(l[e]);return d}({1:[function(e,t,i){"use strict";var o,n,r;Object.defineProperty(i,"__esModule",{value:!0}),o=i.Mon||(i.Mon={}),n=o.Helpers||(o.Helpers={}),r=function(){function e(e){var t=this;this.scale=30,this.set={animation:{positionIterations:function(e){t.positionIterations=e},timeStep:function(e){t.timeStep=e},velocityIterations:function(e){t.velocityIterations=e}},debug:{fillAlpha:function(e){t.fillAlpha=e},flags:function(e){t.flags=e},lineThickness:function(e){t.lineThickness=e}}},this.timeStep=1/60,this.velocityIterations=8,this.positionIterations=3,this.fillAlpha=.5,this.lineThickness=1,this.flags=Box2D.Dynamics.b2DebugDraw.e_shapeBit||Box2D.Dynamics.b2DebugDraw.e_jointBit,this.applyPhysics=function(){t.world.Step(t.timeStep,t.velocityIterations,t.positionIterations),t.world.ClearForces(),t.world.DrawDebugData(),setTimeout(t.applyPhysics,t.timeStep)},this.w=e.w,this.h=e.h,e.gravity||(e.gravity=new Box2D.Common.Math.b2Vec2(0,9.8)),this.world=new Box2D.Dynamics.b2World(e.gravity,e.allowSleep),e.debug&&(this.addDebugView(),this.setupDebugDraw())}return e.prototype.addDebugView=function(){var e=document.createElement("canvas");e.width=this.w,e.height=this.h,e.setAttribute("id","debugView"),e.style.cssText="background-color: rgba(255, 255, 255, 0.4); position: absolute;",document.body.insertBefore(e,document.body.getElementsByTagName("canvas")[0])},e.prototype.setupDebugDraw=function(){var e=new Box2D.Dynamics.b2DebugDraw;e.SetSprite(document.getElementById("debugView").getContext("2d")),e.SetDrawScale(this.scale),e.SetFillAlpha(this.fillAlpha),e.SetLineThickness(this.lineThickness),e.SetFlags(this.flags),this.world.SetDebugDraw(e)},e}(),n.Box2App=r},{}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l,d=e("./Mon-chan"),c=Box2D.Dynamics.b2BodyDef,u=Box2D.Dynamics.b2Body,p=Box2D.Dynamics.b2FixtureDef,y=Box2D.Collision.Shapes.b2PolygonShape,n=Box2D.Collision.Shapes.b2CircleShape,h=30;function f(){var e=new c;e.type=u.b2_dynamicBody,e.position.x=200/h,e.position.y=50/h;var t=new p;t.density=1,t.friction=.5,t.restitution=.3;var i=new n(20/h);t.shape=i;var o=l.world.CreateBody(e);o.CreateFixture(t);return{body:o,radius:30*i.GetRadius(),x:30*e.position.x,y:30*e.position.y}}document.body.onload=function(){var e=new PIXI.Application({width:800,height:440,backgroundColor:7829367,antialias:!0});document.body.appendChild(e.view),e.view.setAttribute("id","pixi"),l=new d.Mon.Helpers.Box2App({w:800,h:440,debug:!0});var t=function(){var e=new c;e.type=u.b2_staticBody,e.position.x=10/h,e.position.y=50/h-15;var t=new p;t.density=1,t.friction=.5,t.restitution=.2;var i=new y;i.SetAsBox(200/h,10/h),t.shape=i,l.world.CreateBody(e).CreateFixture(t);var o=Array();return i.GetVertices().forEach(function(e){var t=30*e.x,i=30*e.y;o.push(t,i)}),console.log("floor"),{verices:o,x:30*e.position.x,y:30*e.position.y}}(),i=f(),o=new PIXI.Graphics;o.beginFill(6074338),o.drawCircle(0,0,i.radius),o.x=50,o.y=50;var n=new PIXI.Graphics;n.beginFill(0),n.drawCircle(15,0,5),o.addChild(n);var r=f(),s=new PIXI.Graphics;s.beginFill(4095),s.drawCircle(0,0,r.radius);var a=new PIXI.Graphics;a.beginFill(6074338),a.drawPolygon(t.verices),a.x=t.x,a.y=t.y,e.stage.addChild(a),e.stage.addChild(o),e.stage.addChild(s),l.set.animation.timeStep(1/60),l.applyPhysics(),e.ticker.add(function(e){o.x=30*i.body.GetWorldCenter().x,o.y=30*i.body.GetWorldCenter().y,o.rotation=i.body.GetAngle(),s.x=30*r.body.GetWorldCenter().x,s.y=30*r.body.GetWorldCenter().y})}},{"./Mon-chan":1}]},{},[2])(2)});
//# sourceMappingURL=core.min.js.map
